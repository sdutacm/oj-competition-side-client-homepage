<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/icon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./src/assets/css/default.less" />
    <title>Vite App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
      rel="stylesheet"
    />
    <script>
      // 简化版本：只在特定情况下调整字体，主要让CSS媒体查询控制
      (function() {
        const doc = document.documentElement;
        
        function updateRem() {
          const width = doc.clientWidth;
          
          // 只在极端情况下干预，大部分情况让CSS媒体查询处理
          if (width <= 320) {
            // 极小屏幕强制设置最小字体
            doc.style.fontSize = "18px";
          } else if (width >= 1920) {
            // 超大屏幕设置合适字体
            doc.style.fontSize = "20px";
          } else {
            // 其他情况移除内联样式，让CSS媒体查询生效
            doc.style.fontSize = "";
          }
        }

        updateRem();
        
        let timer;
        window.addEventListener("resize", () => {
          clearTimeout(timer);
          timer = setTimeout(updateRem, 300);
        });
      })();
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
