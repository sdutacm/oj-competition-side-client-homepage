<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="./icon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./src/assets/css/default.less" />
    
    <title>SDUT OJ ç«èµ›å®¢æˆ·ç«¯</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
      rel="stylesheet"
    />
    <script>
      (function() {
        const doc = document.documentElement;
        
        function updateRem() {
          const width = doc.clientWidth;          
          if (width <= 320) {
            doc.style.fontSize = "18px";
          } else if (width >= 1920) {
            doc.style.fontSize = "20px";
          } else {
            doc.style.fontSize = "";
          }
        }

        updateRem();
        
        let timer;
        window.addEventListener("resize", () => {
          clearTimeout(timer);
          timer = setTimeout(updateRem, 300);
        });
      })();
      
      // æ·»åŠ  URL è®¿é—®æ£€æµ‹å’Œä¿®å¤æœºåˆ¶
      (function() {
        // å¦‚æœå½“å‰ URL ä»¥ç›®å½•ç»“å°¾ä½†æ²¡æœ‰ index.htmlï¼Œä¸”é¡µé¢æ­£å¸¸åŠ è½½äº†
        const currentPath = window.location.pathname;
        const baseUrl = window.location.origin + '/oj-competition-side-client/';
        
        // å¦‚æœæ˜¯é€šè¿‡ index.html è®¿é—®çš„ï¼Œç¡®ä¿æµè§ˆå™¨å†å²è®°å½•æ­£ç¡®
        if (currentPath === '/oj-competition-side-client/index.html') {
          // ä¸ç«‹å³é‡å®šå‘ï¼Œè€Œæ˜¯åœ¨é¡µé¢åŠ è½½å®Œæˆåæ›¿æ¢å†å²è®°å½•
          window.addEventListener('load', function() {
            if (window.history && window.history.replaceState) {
              window.history.replaceState(null, null, '/oj-competition-side-client/');
            }
          });
        }
        
        // æ·»åŠ ä¸€ä¸ªæç¤ºä¿¡æ¯ï¼Œå‘ŠçŸ¥ç”¨æˆ·æ­£ç¡®çš„è®¿é—®æ–¹å¼
        if (window.location.hostname === 'cdn.sdutacm.cn') {
          console.log('ğŸ” è®¿é—®æç¤ºï¼š');
          console.log('å¦‚æœç›´æ¥è®¿é—®ç›®å½• URL å‡ºç°ä¸‹è½½é—®é¢˜ï¼Œè¯·ä½¿ç”¨ï¼š');
          console.log('https://cdn.sdutacm.cn/oj-competition-side-client/index.html');
        }
      })();
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
